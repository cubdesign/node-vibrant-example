import { render, screen } from "@testing-library/react";
import ServerRenderingPage from "@/pages/server-rendering";

describe("ServerRenderingPage", () => {
  it("renders a heading", () => {
    const vibrantResultListString =
      '[{"imageURL":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f4a8.png","palette":{"Vibrant":{"rgb":[20.13157894736837,127.4999999999999,234.86842105263162],"population":0},"DarkVibrant":{"rgb":[10.468421052631557,66.29999999999994,122.13157894736845],"population":0},"LightVibrant":{"rgb":[220,236,252],"population":7},"Muted":{"rgb":[132,152,174],"population":4},"DarkMuted":{"rgb":[12.078947368421034,76.49999999999994,140.92105263157896],"population":0},"LightMuted":{"rgb":[169,188,212],"population":9}},"source":{"file":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f4a8.png","type":"emoji","emoji":"üí®"}},{"imageURL":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f605.png","palette":{"Vibrant":{"rgb":[247,168,22],"population":7},"DarkVibrant":{"rgb":[165,105,18],"population":7},"LightVibrant":{"rgb":[252,248,137],"population":6},"Muted":{"rgb":[124,164,140],"population":1},"DarkMuted":{"rgb":[137.95081967213116,87.78688524590164,15.049180327868836],"population":0},"LightMuted":{"rgb":[196,180,172],"population":1}},"source":{"file":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f605.png","type":"emoji","emoji":"üòÖ"}},{"imageURL":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f645-1f3fb-200d-2642-fe0f.png","palette":{"Vibrant":{"rgb":[60,124,188],"population":5},"DarkVibrant":{"rgb":[26,68,122],"population":4},"LightVibrant":{"rgb":[246,214,176],"population":4},"Muted":{"rgb":[148,121,102],"population":3},"DarkMuted":{"rgb":[90,74,60],"population":4},"LightMuted":{"rgb":[196,168,144],"population":4}},"source":{"file":"https://cdn.jsdelivr.net/npm/emoji-datasource-apple@14.0.0/img/apple/64/1f645-1f3fb-200d-2642-fe0f.png","type":"emoji","emoji":"üôÖüèª‚Äç‚ôÇÔ∏è"}},{"imageURL":"http://localhost:3000/images/elza-kurbanova-f8MLY_HKwqQ-unsplash.jpg","palette":{"Vibrant":{"rgb":[175,32,17],"population":284},"DarkVibrant":{"rgb":[95,4,4],"population":1566},"LightVibrant":{"rgb":[236,183,167],"population":10},"Muted":{"rgb":[174,124,96],"population":1559},"DarkMuted":{"rgb":[87,71,57],"population":1293},"LightMuted":{"rgb":[203,192,182],"population":1548}},"source":{"file":"/images/elza-kurbanova-f8MLY_HKwqQ-unsplash.jpg","type":"image"}},{"imageURL":"http://localhost:3000/images/erik-mclean-9y1cTVKe1IY-unsplash.jpg","palette":{"Vibrant":{"rgb":[212,170,5],"population":906},"DarkVibrant":{"rgb":[10,74,91],"population":508},"LightVibrant":{"rgb":[234,204,88],"population":923},"Muted":{"rgb":[107,89,164],"population":35},"DarkMuted":{"rgb":[63,42,51],"population":140},"LightMuted":{"rgb":[130,172,193],"population":83}},"source":{"file":"/images/erik-mclean-9y1cTVKe1IY-unsplash.jpg","type":"image"}},{"imageURL":"http://localhost:3000/images/max-zhang-gkdyrA_eOo8-unsplash.jpg","palette":{"Vibrant":{"rgb":[224,112,57],"population":1051},"DarkVibrant":{"rgb":[121,50,17],"population":52},"LightVibrant":{"rgb":[248,167,105],"population":163},"Muted":{"rgb":[161,128,98],"population":53},"DarkMuted":{"rgb":[59,44,27],"population":851},"LightMuted":{"rgb":[146.17834394904457,67.2420382165605,6.821656050955412],"population":0}},"source":{"file":"/images/max-zhang-gkdyrA_eOo8-unsplash.jpg","type":"image"}},{"imageURL":"http://localhost:3000/images/zhang_d-cCatH3q6o9M-unsplash.jpg","palette":{"Vibrant":{"rgb":[29,154,198],"population":146},"DarkVibrant":{"rgb":[30,78,111],"population":253},"LightVibrant":{"rgb":[236,189,204],"population":427},"Muted":{"rgb":[181,110,97],"population":174},"DarkMuted":{"rgb":[56,66,71],"population":1109},"LightMuted":{"rgb":[202,151,162],"population":530}},"source":{"file":"/images/zhang_d-cCatH3q6o9M-unsplash.jpg","type":"image"}},{"imageURL":"http://localhost:3000/images/david-clode-fT2qXggBlks-unsplash.jpg","palette":{"Vibrant":{"rgb":[201,48,72],"population":240},"DarkVibrant":{"rgb":[22,60,4],"population":10},"LightVibrant":{"rgb":[229.43855421686743,147.96144578313255,160.7421686746988],"population":0},"Muted":{"rgb":[164,114,131],"population":920},"DarkMuted":{"rgb":[55,74,48],"population":1270},"LightMuted":{"rgb":[185,208,168],"population":207}},"source":{"file":"/images/david-clode-fT2qXggBlks-unsplash.jpg","type":"image"}}]';
    render(
      <ServerRenderingPage vibrantResultListString={vibrantResultListString} />
    );
    expect(screen.getByText(/Welcome/)).toBeInTheDocument();
  });
});
